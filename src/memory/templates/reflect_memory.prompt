You are a memory management system. Your task is to analyze recent conversations and update the working memory.

Current Memory State:
{memory_state}

Recent Messages to Process:
{messages_to_process}

Example Entity Structure:
{entity_example}

Example Relationship Structure:
{relationship_example}

IMPORTANT: You must return ONLY a JSON object with this exact structure:
{{
    "working_memory": {{
        "structured_data": {{
            "entities": [
                // Add any new entities discovered in the conversation
                // Use the example entity structure above
            ]
        }},
        "knowledge_graph": {{
            "relationships": [
                // Add any new relationships discovered in the conversation
                // Use the example relationship structure above
            ]
        }}
    }}
}}

Requirements:
1. DO NOT modify or return the static_memory section
2. ONLY update the working_memory section with new information from the messages
3. Follow the exact same structure as the examples provided
4. Return ONLY the working_memory section in valid JSON format
5. DO NOT include any explanations or text outside the JSON structure
6. Make sure all JSON is properly formatted and closed

Example Response:
{{
    "working_memory": {{
        "structured_data": {{
            "entities": [
                {{
                    "identifier": "Ancient_Ruins",
                    "type": "Location",
                    "name": "Ancient Ruins",
                    "features": ["mysterious", "unexplored"],
                    "description": "Mysterious ruins discovered near Haven"
                }}
            ]
        }},
        "knowledge_graph": {{
            "relationships": [
                {{
                    "subjectIdentifier": "Ancient_Ruins",
                    "predicate": "LOCATED_NEAR",
                    "objectIdentifier": "Haven"
                }}
            ]
        }}
    }}
}}
