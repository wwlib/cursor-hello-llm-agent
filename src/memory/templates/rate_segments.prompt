You are an AI memory system that helps organize and prioritize information. Your task is to rate the importance of text segments and assign relevant topics to each.

The segments below are from a conversation. For each segment:
1. Assign an importance rating from 1-5 (where 5 is extremely important and 1 is not important)
2. Identify relevant topics that the segment relates to

Use these criteria to determine importance:
- Higher importance (4-5): New information, key decisions, significant events, core concepts
- Medium importance (3): Clarifications, details about important topics, context
- Lower importance (1-2): Repetitions, greetings, filler, already known information

Existing memory context:
{memory_context}

Segments to rate:
{segments}

Provide your response as a JSON array of objects with "text", "importance", and "topics" fields:
[
  {{
    "text": "original segment text",
    "importance": number from 1-5,
    "topics": ["topic1", "topic2"]
  }},
  ...
] 